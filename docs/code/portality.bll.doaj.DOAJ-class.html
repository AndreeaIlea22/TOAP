<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>portality.bll.doaj.DOAJ</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="portality-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/DOAJ/doaj">DOAJ</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="portality-module.html">Package&nbsp;portality</a> ::
        <a href="portality.bll-module.html">Package&nbsp;bll</a> ::
        <a href="portality.bll.doaj-module.html">Module&nbsp;doaj</a> ::
        Class&nbsp;DOAJ
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="portality.bll.doaj.DOAJ-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class DOAJ</h1><p class="nomargin-top"><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_portalit_38" name="uml_class_diagram_for_portalit_38">
<area shape="rect" id="node1_11" href="portality.bll.doaj.DOAJ-class.html#reject_application" title="Reject an application. &#160;This will: * set the application status to &quot;rejected&quot; (if not already) * remove the current_journal field, and move it to related_journal (if needed) * save the application * write a provenance record for the rejection (if requested)" alt="" coords="17,40,589,60"/>
<area shape="rect" id="node1_12" href="portality.bll.doaj.DOAJ-class.html#accept_application" title="portality.bll.doaj.DOAJ.accept_application" alt="" coords="17,60,589,80"/>
<area shape="rect" id="node1_13" href="portality.bll.doaj.DOAJ-class.html#update_request_for_journal" title="Obtain an update request application object for the journal with the given journal_id" alt="" coords="17,80,589,100"/>
<area shape="rect" id="node1_14" href="portality.bll.doaj.DOAJ-class.html#application_2_journal" title="portality.bll.doaj.DOAJ.application_2_journal" alt="" coords="17,100,589,120"/>
<area shape="rect" id="node1_15" href="portality.bll.doaj.DOAJ-class.html#journal_2_application" title="Function to convert a given journal into an application object." alt="" coords="17,120,589,140"/>
<area shape="rect" id="node1_16" href="portality.bll.doaj.DOAJ-class.html#application" title="Function to retrieve an application by its id" alt="" coords="17,140,589,160"/>
<area shape="rect" id="node1_17" href="portality.bll.doaj.DOAJ-class.html#delete_application" title="Function to delete an application, and all references to it in other objects (current and related journals)" alt="" coords="17,160,589,180"/>
<area shape="rect" id="node1_18" href="portality.bll.doaj.DOAJ-class.html#journal" title="Function to retrieve a journal by its id, and to optionally lock the resource" alt="" coords="17,180,589,200"/>
<area shape="rect" id="node1_19" href="portality.bll.doaj.DOAJ-class.html#can_create_update_request" title="Is the given account allowed to create an update request from the given journal" alt="" coords="17,200,589,220"/>
<area shape="rect" id="node1_20" href="portality.bll.doaj.DOAJ-class.html#can_edit_application" title="Is the given account allowed to edit the update request application" alt="" coords="17,220,589,240"/>
<area shape="rect" id="node1_21" href="portality.bll.doaj.DOAJ-class.html#can_view_application" title="Is the given account allowed to view the update request application" alt="" coords="17,240,589,260"/>
<area shape="rect" id="node1" href="portality.bll.doaj.DOAJ-class.html" title="portality.bll.doaj.DOAJ" alt="" coords="5,6,601,266"/>
</map>
  <img src="uml_class_diagram_for_portalit_38.gif" alt='' usemap="#uml_class_diagram_for_portalit_38" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#reject_application" class="summary-sig-name">reject_application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">application</span>,
        <span class="summary-sig-arg">account</span>,
        <span class="summary-sig-arg">provenance</span>=<span class="summary-sig-default">True</span>)</span><br />
      Reject an application.  This will:
* set the application status to &quot;rejected&quot; (if not already)
* remove the current_journal field, and move it to related_journal (if needed)
* save the application
* write a provenance record for the rejection (if requested)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.reject_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="accept_application"></a><span class="summary-sig-name">accept_application</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">application</span>,
        <span class="summary-sig-arg">account</span>,
        <span class="summary-sig-arg">manual_update</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">provenance</span>=<span class="summary-sig-default">True</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.accept_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#update_request_for_journal" class="summary-sig-name">update_request_for_journal</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">journal_id</span>,
        <span class="summary-sig-arg">account</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">lock_timeout</span>=<span class="summary-sig-default">None</span>)</span><br />
      Obtain an update request application object for the journal with the given journal_id</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.update_request_for_journal">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="application_2_journal"></a><span class="summary-sig-name">application_2_journal</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">application</span>,
        <span class="summary-sig-arg">manual_update</span>=<span class="summary-sig-default">True</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.application_2_journal">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#journal_2_application" class="summary-sig-name">journal_2_application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">journal</span>,
        <span class="summary-sig-arg">account</span>=<span class="summary-sig-default">None</span>)</span><br />
      Function to convert a given journal into an application object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.journal_2_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#application" class="summary-sig-name">application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">application_id</span>,
        <span class="summary-sig-arg">lock_application</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">lock_account</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">lock_timeout</span>=<span class="summary-sig-default">None</span>)</span><br />
      Function to retrieve an application by its id</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#delete_application" class="summary-sig-name">delete_application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">application_id</span>,
        <span class="summary-sig-arg">account</span>)</span><br />
      Function to delete an application, and all references to it in other objects (current and related journals)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.delete_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#journal" class="summary-sig-name">journal</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">journal_id</span>,
        <span class="summary-sig-arg">lock_journal</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">lock_account</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">lock_timeout</span>=<span class="summary-sig-default">None</span>)</span><br />
      Function to retrieve a journal by its id, and to optionally lock the resource</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.journal">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#can_create_update_request" class="summary-sig-name">can_create_update_request</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">account</span>,
        <span class="summary-sig-arg">journal</span>)</span><br />
      Is the given account allowed to create an update request from the given journal</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_create_update_request">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#can_edit_application" class="summary-sig-name">can_edit_application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">account</span>,
        <span class="summary-sig-arg">application</span>)</span><br />
      Is the given account allowed to edit the update request application</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_edit_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="portality.bll.doaj.DOAJ-class.html#can_view_application" class="summary-sig-name">can_view_application</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">account</span>,
        <span class="summary-sig-arg">application</span>)</span><br />
      Is the given account allowed to view the update request application</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_view_application">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__init__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="reject_application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">reject_application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">application</span>,
        <span class="sig-arg">account</span>,
        <span class="sig-arg">provenance</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.reject_application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Reject an application.  This will:
* set the application status to &quot;rejected&quot; (if not already)
* remove the current_journal field, and move it to related_journal (if needed)
* save the application
* write a provenance record for the rejection (if requested)
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>application</code></strong></li>
        <li><strong class="pname"><code>account</code></strong></li>
        <li><strong class="pname"><code>provenance</code></strong></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="update_request_for_journal"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update_request_for_journal</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">journal_id</span>,
        <span class="sig-arg">account</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">lock_timeout</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.update_request_for_journal">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Obtain an update request application object for the journal with the given journal_id</p>
<p>An update request may either be loaded from the database, if it already exists, or created
in-memory if it has not previously been created.</p>
<p>If an account is provided, this will validate that the account holder is allowed to make
the conversion from journal to application, if a conversion is required.</p>
<p>When this request runs, the journal will be locked to the provided account if an account is
given.  If the application is loaded from the database, this will also be locked for the account
holder.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>journal_id</code></strong></li>
        <li><strong class="pname"><code>account</code></strong></li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>a tuple of (Application Object, Journal Lock, Application Lock)</dd>
  </dl>
</td></tr></table>
</div>
<a name="journal_2_application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">journal_2_application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">journal</span>,
        <span class="sig-arg">account</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.journal_2_application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function to convert a given journal into an application object.</p>
<p>Provide the journal, and it will be converted
in-memory to the application object (currently a Suggestion).  The new application
WILL NOT be saved by this method.</p>
<p>If an account is provided, this will validate that the account holder is
allowed to make this conversion</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>journal</code></strong> - a journal to convert</li>
        <li><strong class="pname"><code>account</code></strong> - an account doing the action - optional, if specified the application will only be created if the account is allowed to</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Suggestion object</dd>
  </dl>
</td></tr></table>
</div>
<a name="application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">application_id</span>,
        <span class="sig-arg">lock_application</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">lock_account</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">lock_timeout</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Function to retrieve an application by its id
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>application_id</code></strong> - the id of the application</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Tuple of (Suggestion Object, Lock Object)</dd>
  </dl>
</td></tr></table>
</div>
<a name="delete_application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">delete_application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">application_id</span>,
        <span class="sig-arg">account</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.delete_application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function to delete an application, and all references to it in other objects (current and related journals)</p>
<p>The application and all related journals need to be locked before this process can proceed, so you may get a
lock.Locked exception</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>application_id</code></strong></li>
        <li><strong class="pname"><code>account</code></strong></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="journal"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">journal</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">journal_id</span>,
        <span class="sig-arg">lock_journal</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">lock_account</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">lock_timeout</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.journal">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function to retrieve a journal by its id, and to optionally lock the resource</p>
<p>May raise a Locked exception, if a lock is requested but can't be obtained.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>journal_id</code></strong> - the id of the journal</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Tuple of (Journal Object, Lock Object)</dd>
  </dl>
</td></tr></table>
</div>
<a name="can_create_update_request"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">can_create_update_request</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">account</span>,
        <span class="sig-arg">journal</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_create_update_request">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Is the given account allowed to create an update request from the given journal
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>account</code></strong> - the account doing the action</li>
        <li><strong class="pname"><code>journal</code></strong> - the journal the account wants to create an update request from</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="can_edit_application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">can_edit_application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">account</span>,
        <span class="sig-arg">application</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_edit_application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Is the given account allowed to edit the update request application
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>account</code></strong> - the account doing the action</li>
        <li><strong class="pname"><code>application</code></strong> - the application the account wants to edit</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="can_view_application"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">can_view_application</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">account</span>,
        <span class="sig-arg">application</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="portality.bll.doaj-pysrc.html#DOAJ.can_view_application">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Is the given account allowed to view the update request application
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>account</code></strong> - the account doing the action</li>
        <li><strong class="pname"><code>application</code></strong> - the application the account wants to edit</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="portality-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/DOAJ/doaj">DOAJ</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Jan 25 09:40:59 2018
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
