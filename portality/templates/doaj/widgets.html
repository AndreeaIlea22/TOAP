{# this is local copy of the widget to make dubbugging easier, to be removed when not needed anymore #}
<script type="text/javascript" src="/static/vendor/jquery-3.4.1/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/static/js/doaj.js"></script>
<link rel="stylesheet" href="/static_content/_site/css/main.css">

<div class="facetview">
</div>

<script type="text/javascript">
var doaj_url = "{{ config.get('BASE_URL') }}";
{#var SEARCH_CONFIGURED_OPTIONS = {"query":{"query_string":{"query":"autism","default_operator":"AND"}},"size":50,"sort":[{"created_date":{"order":"desc"}}]};#}
//{"query":{"filtered":{"filter":{"bool":{"must":[{"term":{"es_type":"article"}}]}},"query":{"query_string":{"query":"autism","default_operator":"AND"}}}},"sort":[{"_score":{"order":"desc"}}]}
var QUERY_OPTIONS = {
    query_string : 'autism',                      // The plain-text query string
    //query_field: 'bibjson.title',                  // The field we are querying
    sort: 'created_date',         // Field to order results by
    sort_direction:  'desc',                        // Direction of sort "asc" | "desc"
    search_operator : 'AND',                       // Which sort operator to use "AND" | "OR"
    search_type: 'journal',                        // Which type to search upon (omit for both) "article" | "journal"
    page_size : 5,                                 // How many results to show per widget page
    page_from : 0                                  // Which result to initially start from
    }
</script>

<script type="text/javascript">

    $.extend(true, doaj, {
        publicSearchConfig : {
            publicSearchPath : '/query/journal,article/_search?ref=fqw',
            lccTree: '{{ lcc_tree|tojson }}'
        }
    });

</script>
<script type="text/javascript" src="/static/widget/fq_widget_depends_compiled.js"></script>
<script type="text/javascript" src="/static/widget/fixed_query_src_edges.js"></script>