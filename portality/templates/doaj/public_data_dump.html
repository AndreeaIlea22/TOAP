{% extends "base.html" %}

{% block content %}

    <h1>DOAJ Data Dumps</h1>

    <p>You can access full data-dumps of the entire of DOAJ's public metadata below.  The following files provide you
    complete sets of articles and journals, in the form that they would also be retrieved via the API.</p>

    <ul>
        <li><a href="{{ url_for("doaj.public_data_dump_redirect", record_type="journal") }}">Download all Journals</a></li>
        <li><a href="{{ url_for("doaj.public_data_dump_redirect", record_type="article") }}">Download all Articles</a></li>
    </ul>

    <p>Each file is a <code>tar.gz</code>. The data dumps are structured as follows:</p>

    <p>When you unzip/untar the file, you will have a single directory of the form <code>doaj_[type]_data_[date generated]</code>.</p>

    <p>Inside that directory, you will find a list of files with names of the form <code>[type]_[number].json</code>.  For example
    <code>journal_3.json</code> or <code>article_27.json</code>.</p>

    <p>Each file contains up to {{ config.get("DISCOVERY_RECORDS_PER_FILE") }} records.  All files should contain the same number
    of records, apart from the last one, which may have fewer.</p>

    <p>The structure of each file is as a JSON list:</p>

    <pre>
    [
        { ... first record ... },
        { ... second record ... },
        { ... third record ...},
        ... etc ...
    ]
    </pre>

    <p>Records are not explicitly ordered and the order is not guaranteed to remain consistent across data dumps
    produced on different days.</p>

    <p>The data structures are formatted as per the <a href="{{ url_for("api_v1.docs") }}">API</a>.</p>

{% endblock %}